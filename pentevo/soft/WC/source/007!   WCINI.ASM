C000    EQU #C000;---------------------------------------PATH    LD A,(LFLT):OR A:JR NZ,LPATH        LD IX,WINDOW:CALL DRACT,ORIGA        LD IX,WINDO2:CALL DRACT,ORIGA        RETLPATH   LD IX,WINDOW        LD HL,RLPNL+C000:CALL SIMUL        LD IX,WINDO2        LD HL,RRPNL+C000:CALL SIMUL        RET;-------FI      CALL DRACT,ORIGA:RETSIMUL   LD A,RPPG:CALL MNGC        LD C,(HL):INC HL        LD A,(HL):INC HL:CP ":":JR NZ,FI        LD A,(HL):INC HL:CP "\":JR NZ,FI        LD A,C:SUB #30:CP 3:JR NC,FI        LD (IX+29),A        LD (IX+34),1        PUSH HL:CALL DRACT,ORIGA2,PANELI        POP HLSIMZ    LD A,RPPG:CALL MNGC        LD A,(HL):CP #FF:JR Z,EXCE        LD B,9,DE,TXTBU+1SIMC    LD A,(HL):INC HL        CP "\":JR Z,SIME        LD (DE),A:INC DE        DJNZ SIMC:JR FAILSIME    XOR A:LD (DE),A        PUSH HL        LD HL,TXTBU,(HL),#10        CALL SRHDRN        LD (BRRR),HL,(BRRR+2),DE        POP HL:JR Z,FAIL        PUSH HL:LD HL,BRRR:CALL GLSTCAT        POP HL        PUSH HL        LD A,(IX+22):CALL MNGC        LD L,(IX+23)        LD H,(IX+24)        LD DE,CURO,BC,0,A,1:CALL Lup        POP HL        JP SIMZEXCE    LD DE,0-C000:ADD HL,DE        LD (IX+32),L        LD (IX+33),H        LD (IX+34),0        JP FOLDFAIL    LD (IX+34),0        CALL DRACT,ORIGA        RET;-------MPATH   LD A,RPPG:CALL MNG0        EX DE,HL        LD E,(IX+32)        LD D,(IX+33)        LD A,(HL):CP ".":JR Z,SPATHAPATH   LD B,8ApA     LD A,(HL):INC HL        CP " ":JR Z,ASK        CP ".":JR Z,AZK        LD (DE),A:INC DEASK     DJNZ ApA        LD A,(HL):CP " ":JR Z,EDPAAZK     LD (DE),A:INC DE        LD B,3APG     LD A,(HL)        CP " ":JR Z,EDPA        LD (DE),A:INC HL,DE        DJNZ APGEDPA    LD A,"\",(DE),A:INC DEEPATH   LD A,#FF,(DE),A        LD (IX+32),E        LD (IX+33),DZIP     JP FRSTSPATH   LD B,15        DEC DESiP     DEC DE:LD A,(DE)        CP "\":JR Z,SIP        CP ":":JR Z,ZIP        DJNZ SiPSIP     INC DE        JR EPATH;-------RPATH   LD A,(IX+34):OR A:RET NZ        LD A,RPPG:CALL MNG0        LD L,(IX+30)        LD H,(IX+31)        LD A,(IX+29)        ADD A,#30        LD (HL),A:INC HL        LD (HL),":":INC HL        LD (HL),"\":INC HL        LD (HL),#FF        LD (IX+32),L        LD (IX+33),H        JP FRST;-------PPATH   LD A,RPPG:CALL MNG0        LD L,(IX+30)        LD H,(IX+31)        LD DE,HL        LD B,40-4AG      LD A,(DE):INC DE:CP #FF:JR Z,$+4        DJNZ AG        LD A,40-4        SUB B        LD C,A        PUSH BC        LD B,0,C,A        LD DE,#0002:CALL PRSRW        LD A,(IX+6).4      RLCA        CALL PRIAT        POP BC        LD A,C:ADD A,2:LD E,A        LD HL,TXTBU        LD C,B        LD A,B:OR A:JR Z,PPO        LD A,#CD,(HL),A:INC HL:DJNZ $-2        LD B,0        LD HL,TXTBU,D,0:CALL PRSRW        LD A,(IX+6):CALL PRIATPPO     JP FRST;---------------------------------------INIA    EQU #0000INIB    EQU #1000FINI    LD A,INIPG:CALL MNG0        LD BC,#DFF7,A,#B2:OUT A        LD B,#BF:IN A        CALL TSBC:RET NZ;-------        LD HL,WCDIR:CALL SRHDRN:RET Z        LD (BRRR),HL,(BRRR+2),DE        LD HL,BRRR:CALL GLSTCAT        LD HL,WCINI:CALL SRHDRN:RET Z        LD (BRRR),HL,(BRRR+2),DE        LD HL,BRRR:CALL GIPAG;-------        CALL INILOAD:RET NZ;-------        CALL PARSING;-------        LD HL,ENTRY,B,32:CALL NOPING;CALL USPO;CALL NUSP        JP F7F;---------------------------------------INILOAD CALL INXSe        LD DE,IDNT3,B,37        CALL RAZ:RET NZ:INC HL        LD DE,INIA,C,0INIF    LD A,D:CP INIB[:JR NC,INILE        LD A,H:AND 1:OR L        CALL Z,INXSE:JR Z,INILE        LD A,(HL)        CP #0A:JR C,INILE,Z,INiF        CP #0D:CALL Z,SKIPE        CP ";":CALL Z,SKIPS        INC C:DEC C:JR NZ,INiF        LD (DE),A        INC DEINiF    INC HL        JR INIFINILE   XOR A:LD (DE),A:RET;-------SKIPS   LD C,1:RETSKIPE   LD C,0:RET;-------INXSE   PUSH BC,DE:CALL INXSe        POP DE,BC:CP #0F        RETINXSe   LD HL,INIB,B,1        PUSH HL:CALL LOAD512        POP HL        RET;---------------------------------------PARSING LD HL,INIAPARS    LD A,(HL)        CP "[":CALL Z,SUEXE:JR Z,PARS        CALL SER13D        LD A,(HL)        OR A:RET Z        LD A,H:CP INIB[:RET NC        JR PARSSUEXE   LD DE,STARTU:INC HLSUfnd   LD A,(DE):INC A:RET Z        CALL SUU:JR Z,SUexe        JR SUfndSUU     PUSH HL:CALL RAZ0:INC DE        POP HL:RET Z        XOR A        EX DE,HL:LD BC,16:CPIR:INC HL,HL        EX DE,HL        INC A        RETSUexe   LD A,(DE),(SUmod+1),A:INC DE        LD A,(DE),(SUmod+2),ASUmod   CALL 0        XOR A        RET;-------SUPL    PUSH HL:LD IX,INIWND:CALL PRWOW        POP HL        LD DE,#0101RSI     CALL SER13D,ICE:RET Z        PUSH HL        PUSH DE:CALL SERNLOD        POP DE        CALL NZ,PLPRNAM        POP HL        JR RSI;-------SUPAL   LD A,0:EXA:JR SUPASUPAR   LD A,1:EXASUPA    CALL SER13D,ICE:RET Z        LD DE,PANN:CALL SUpa        JR SUPASUpa    LD A,(DE):INC A:RET Z        CALL SUU:JR Z,SUexe        JR SUpaCPCL    LD A,(HL):INC HL        CP " ":JR Z,CPC        CP "=":JR Z,CPC        CP #0D:JR NZ,CPCL:DEC HL        XOR A:JR $+3CPC     LD A,(HL)        LD HL,WINDOW        EXA:OR A:JR Z,$+5:LD HL,WINDO2        EXA        RET;-------SUPAD   PUSH HL:CALL CPCL        LD DE,29:ADD HL,DE        SUB #30:CP 3:JR C,$+3:XOR A        LD (HL),A        POP HL        RETSUPAI   PUSH HL:CALL CPCL        LD DE,10:ADD HL,DE        SUB #30:AND 1:ADD A,A        LD (HL),A        POP HL        RETICE     LD A,(HL)        OR A:RET Z        CP #0D:RET Z        CP "["        RET;-------SUL     CALL SER13D,ICE:RET Z        LD DE,SETUP:CALL SUpa        JR SULSUL1    PUSH HL:CALL CPCL        SUB #30:AND %00000011        LD (DFRQ),A        POP HL        RETSUL2    PUSH HL:CALL CPCL        SUB #30:AND %00000001        LD (LFLT),A        POP HL        RET;-------SERNLOD CALL GENNAM,SRHDRN:RET Z        LD (BRRR),HL,(BRRR+2),DE        LD HL,BRRR:CALL GIPAG        LD A,1:CALL LDPL2        LD A,1:OR A        RET;-------GENNAM  LD DE,LOBU+1,BC,12:LDIR        XOR A:LD (DE),A        LD HL,LOBU,(HL),#00        RET;-------PLPRNAM PUSH DE        LD IX,INIWND        LD HL,LOBU+165,BC,32:CALL PRSRW        LD A,%01110000:CALL PRIAT        POP DE        INC D        RET;---------------------------------------DINT    EI:HALT:DI        LD HL,INTM+2,(INTM),HL        RET;-------RAZ     LD A,(DE):CP (HL):RET NZ        INC HL,DE        DJNZ RAZ        RET;-------RAZ0    LD A,(DE):CP (HL):RET NZ        INC HL,DE        LD A,(DE):OR A:RET Z        JR RAZ0;-------F7F     XOR A:IN (#FE)        AND %00011111:CP %00011111        JR NZ,F7F        RET;---------------------------------------STARTU  DB "SETUP",0:DW SUL        DB "PLUGINS",0:DW SUPL        DB "LPANEL",0:DW SUPAL        DB "RPANEL",0:DW SUPAR        DB #FFPANN    DB "DRV",0:DW SUPAD        DB "INFO",0:DW SUPAI        DB #FFSETUP   DB "CPU_FREQ",0:DW SUL1        DB "SPIR",0:DW SUL2        DB #FFIDNT    DB "SpectrumProg"IDNT2   DB "WildCommanderMDL"IDNT3   DB "Wild Commander "        DB "configuration file v0.2";---------------------------------------